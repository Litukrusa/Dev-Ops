import { httpTheory } from './http-theory'
import { tcpTheory } from './tcp-theory'
import { dockerTheory } from './docker-theory'
import { devopsTheory } from './devops-theory'

export interface Module {
  slug: string
  title: string
  videoUrl: string
  theory: TheorySection[]
  quiz: QuizQuestion[]
}

export interface TheorySection {
  time: string
  title: string
  content: string
}

export interface QuizQuestion {
  id: number
  question: string
  options: string[]
  correctAnswer: number
  explanation: string
}

export const modules: Record<string, Module> = {
  'http': {
    slug: 'http',
    title: 'HTTP Протокол',
    videoUrl: 'https://www.youtube.com/watch?v=6JzPr_8bMbk',
    theory: httpTheory,
    quiz: [
      {
        id: 1,
        question: 'Что такое HTTP?',
        options: [
          'Язык программирования для веб-разработки',
          'Протокол передачи гипертекста',
          'База данных для хранения веб-страниц',
          'Операционная система для серверов',
        ],
        correctAnswer: 1,
        explanation: 'HTTP (HyperText Transfer Protocol) — это протокол передачи гипертекста, определяющий правила обмена данными между клиентом и сервером.',
      },
      {
        id: 2,
        question: 'Что такое IP-адрес?',
        options: [
          'Название веб-сайта',
          'Пароль для доступа к серверу',
          'Уникальный идентификатор компьютера в сети',
          'Тип протокола передачи данных',
        ],
        correctAnswer: 2,
        explanation: 'IP-адрес — это уникальный числовой идентификатор компьютера или устройства в интернете, позволяющий однозначно определить получателя данных.',
      },
      {
        id: 3,
        question: 'Для чего используются порты в сетевом взаимодействии?',
        options: [
          'Для шифрования данных',
          'Для направления запросов к конкретным программам на компьютере',
          'Для увеличения скорости передачи данных',
          'Для создания резервных копий',
        ],
        correctAnswer: 1,
        explanation: 'Порты — это виртуальные слоты, позволяющие направлять сетевые запросы к конкретным программам, работающим на одном компьютере. Полный адрес включает IP и порт.',
      },
      {
        id: 4,
        question: 'Кто инициирует взаимодействие в модели клиент-сервер?',
        options: [
          'Всегда сервер',
          'Всегда клиент',
          'Любая сторона может начать первой',
          'Роутер между ними',
        ],
        correctAnswer: 1,
        explanation: 'В архитектуре клиент-сервер клиент всегда инициирует соединение и отправляет запрос. Сервер никогда не начинает общение первым, он только отвечает на запросы.',
      },
      {
        id: 5,
        question: 'Что такое домен?',
        options: [
          'Тип базы данных',
          'Читаемый человеком псевдоним для IP-адреса',
          'Программа для создания сайтов',
          'Протокол передачи файлов',
        ],
        correctAnswer: 1,
        explanation: 'Домен — это понятное человеку имя (например, youtube.com), которое DNS преобразует в IP-адрес. Это упрощает доступ к веб-ресурсам.',
      },
      {
        id: 6,
        question: 'Какой HTTP-метод используется для получения данных?',
        options: [
          'POST',
          'DELETE',
          'GET',
          'PUT',
        ],
        correctAnswer: 2,
        explanation: 'Метод GET используется для получения (чтения) данных с сервера. Это самый распространённый метод HTTP.',
      },
      {
        id: 7,
        question: 'Какой формат данных наиболее популярен в современных API?',
        options: [
          'XML',
          'CSV',
          'JSON',
          'Plain Text',
        ],
        correctAnswer: 2,
        explanation: 'JSON (JavaScript Object Notation) стал де-факто стандартом для передачи структурированных данных в современных веб-API благодаря простоте и универсальности.',
      },
      {
        id: 8,
        question: 'В каком формате происходит общение по HTTP?',
        options: [
          'Постоянное двустороннее соединение',
          'Запрос-ответ (request-response)',
          'Широковещательная рассылка',
          'Peer-to-peer обмен',
        ],
        correctAnswer: 1,
        explanation: 'HTTP использует модель запрос-ответ: клиент отправляет запрос, сервер обрабатывает его и возвращает ответ. Каждый запрос независим (stateless).',
      },
    ],
  },

  'tcp-ip': {
    slug: 'tcp-ip',
    title: 'TCP/IP - Основы сетей',
    videoUrl: 'https://www.youtube.com/watch?v=EJzitviiv2c',
    theory: tcpTheory,
    quiz: [
      {
        id: 1,
        question: 'Сколько уровней в модели TCP/IP?',
        options: ['3', '4', '5', '7'],
        correctAnswer: 1,
        explanation: 'Модель TCP/IP включает 4 уровня: канальный, межсетевой, транспортный и прикладной. Это упрощённая версия 7-уровневой модели OSI.',
      },
      {
        id: 2,
        question: 'Какой протокол гарантирует доставку данных?',
        options: ['UDP', 'TCP', 'IP', 'ICMP'],
        correctAnswer: 1,
        explanation: 'TCP (Transmission Control Protocol) обеспечивает надёжную доставку данных через механизмы нумерации, подтверждения и повторной передачи.',
      },
      {
        id: 3,
        question: 'Что такое Three-Way Handshake в TCP?',
        options: [
          'Механизм шифрования данных',
          'Процесс установки соединения (SYN, SYN-ACK, ACK)',
          'Способ сжатия данных',
          'Алгоритм маршрутизации',
        ],
        correctAnswer: 1,
        explanation: 'Three-Way Handshake — это процесс установки TCP-соединения из трёх шагов: клиент отправляет SYN, сервер отвечает SYN-ACK, клиент подтверждает ACK.',
      },
      {
        id: 4,
        question: 'В чём основное отличие UDP от TCP?',
        options: [
          'UDP работает быстрее, но не гарантирует доставку',
          'UDP может передавать только текст',
          'UDP использует больше памяти',
          'UDP работает только в локальных сетях',
        ],
        correctAnswer: 0,
        explanation: 'UDP не устанавливает соединение и не гарантирует доставку, что делает его быстрее TCP. Используется там, где важна скорость, а не надёжность (стриминг, игры).',
      },
      {
        id: 5,
        question: 'Что такое TTL в IP-пакете?',
        options: [
          'Размер пакета',
          'Время жизни пакета (количество хопов)',
          'Тип протокола',
          'Приоритет пакета',
        ],
        correctAnswer: 1,
        explanation: 'TTL (Time To Live) указывает максимальное количество маршрутизаторов, через которые может пройти пакет. Предотвращает бесконечное блуждание пакетов в сети.',
      },
      {
        id: 6,
        question: 'Для чего используется протокол ICMP?',
        options: [
          'Для передачи больших файлов',
          'Для служебных сообщений и диагностики сети',
          'Для шифрования данных',
          'Для балансировки нагрузки',
        ],
        correctAnswer: 1,
        explanation: 'ICMP (Internet Control Message Protocol) используется для служебных сообщений: ошибки, недостижимость узла, диагностика (ping, traceroute).',
      },
      {
        id: 7,
        question: 'Что такое MAC-адрес?',
        options: [
          'Адрес электронной почты',
          'Уникальный физический адрес сетевой карты',
          'Тип операционной системы',
          'Версия протокола Ethernet',
        ],
        correctAnswer: 1,
        explanation: 'MAC-адрес (Media Access Control) — это уникальный 48-битный физический адрес сетевого адаптера, используемый на канальном уровне.',
      },
      {
        id: 8,
        question: 'Какой размер заголовка UDP?',
        options: ['4 байта', '8 байт', '20 байт', '40 байт'],
        correctAnswer: 1,
        explanation: 'Заголовок UDP занимает всего 8 байт и содержит порты отправителя и получателя, длину датаграммы и контрольную сумму.',
      },
      {
        id: 9,
        question: 'Что такое фрагментация IP-пакетов?',
        options: [
          'Шифрование данных',
          'Разбиение больших пакетов на мелкие части',
          'Удаление повреждённых пакетов',
          'Сжатие данных',
        ],
        correctAnswer: 1,
        explanation: 'Фрагментация — это разбиение большого IP-пакета на меньшие части для передачи через сети с малым MTU. Сборка происходит на принимающей стороне.',
      },
      {
        id: 10,
        question: 'Какое основное преимущество IPv6 перед IPv4?',
        options: [
          'Более высокая скорость передачи',
          'Гораздо большее адресное пространство (128 бит)',
          'Поддержка беспроводных сетей',
          'Встроенное шифрование',
        ],
        correctAnswer: 1,
        explanation: 'IPv6 использует 128-битные адреса вместо 32-битных в IPv4, что решает проблему исчерпания адресов и обеспечивает практически неограниченное адресное пространство.',
      },
    ],
  },

  'docker': {
    slug: 'docker',
    title: 'Docker под капотом',
    videoUrl: 'https://www.youtube.com/watch?v=t4PEoHAvf1A',
    theory: dockerTheory,
    quiz: [
      {
        id: 1,
        question: 'Что такое контейнер в Linux?',
        options: [
          'Виртуальная машина с собственным ядром',
          'Изолированный процесс с ограниченными ресурсами',
          'Архивный файл с приложением',
          'Специальная директория на диске',
        ],
        correctAnswer: 1,
        explanation: 'Контейнер — это изолированный процесс в Linux, использующий namespaces для изоляции и cgroups для ограничения ресурсов.',
      },
      {
        id: 2,
        question: 'Для чего используется chroot?',
        options: [
          'Для шифрования данных',
          'Для изменения корневого каталога процесса',
          'Для управления памятью',
          'Для настройки сети',
        ],
        correctAnswer: 1,
        explanation: 'chroot позволяет изменить корневой каталог для процесса, изолируя его файловую систему от остальной системы.',
      },
      {
        id: 3,
        question: 'Что такое namespaces в Linux?',
        options: [
          'Названия файлов и директорий',
          'Механизм изоляции системных ресурсов',
          'Тип сетевого протокола',
          'Формат конфигурационных файлов',
        ],
        correctAnswer: 1,
        explanation: 'Namespaces — это механизм ядра Linux для изоляции системных ресурсов (процессы, сеть, файловая система и т.д.) между группами процессов.',
      },
      {
        id: 4,
        question: 'Для чего используются cgroups?',
        options: [
          'Для группировки пользователей',
          'Для ограничения ресурсов (CPU, память) процессов',
          'Для организации файлов',
          'Для настройки межсетевого экрана',
        ],
        correctAnswer: 1,
        explanation: 'cgroups (control groups) позволяют ограничивать использование ресурсов (CPU, память, дисковый I/O) для групп процессов.',
      },
      {
        id: 5,
        question: 'Что такое runc?',
        options: [
          'Графический интерфейс Docker',
          'Низкоуровневый runtime для запуска OCI-контейнеров',
          'Язык программирования для контейнеров',
          'Сетевой протокол',
        ],
        correctAnswer: 1,
        explanation: 'runc — это низкоуровневый инструмент для запуска контейнеров согласно спецификации OCI. Docker использует runc под капотом.',
      },
      {
        id: 6,
        question: 'Чем контейнер отличается от виртуальной машины?',
        options: [
          'Контейнеры быстрее запускаются и используют общее ядро ОС',
          'Контейнеры потребляют больше ресурсов',
          'Контейнеры имеют собственное ядро',
          'Контейнеры не могут работать в production',
        ],
        correctAnswer: 0,
        explanation: 'Контейнеры используют ядро хостовой системы и изоляцию на уровне ОС, что делает их легковеснее и быстрее ВМ с полной виртуализацией.',
      },
      {
        id: 7,
        question: 'Какие типы namespaces существуют в Linux?',
        options: [
          'Только PID и NET',
          'PID, NET, MNT, UTS, IPC, USER',
          'Только файловые namespaces',
          'HTTP и FTP namespaces',
        ],
        correctAnswer: 1,
        explanation: 'Linux поддерживает несколько типов namespaces: PID (процессы), NET (сеть), MNT (монтирование), UTS (hostname), IPC (межпроцессное взаимодействие), USER (пользователи).',
      },
      {
        id: 8,
        question: 'Что происходит, когда процесс в контейнере превышает лимит памяти?',
        options: [
          'Система автоматически выделяет больше памяти',
          'Процесс замедляется, но продолжает работу',
          'Ядро убивает процесс (OOM Killer)',
          'Ничего не происходит',
        ],
        correctAnswer: 2,
        explanation: 'Когда процесс превышает лимит памяти, установленный через cgroups, механизм OOM Killer ядра Linux принудительно завершает процесс.',
      },
      {
        id: 9,
        question: 'Что такое Docker-образ?',
        options: [
          'Снимок экрана приложения',
          'Набор слоёв файловой системы с приложением и зависимостями',
          'Исполняемый файл программы',
          'Конфигурационный файл',
        ],
        correctAnswer: 1,
        explanation: 'Docker-образ — это набор слоёв файловой системы, содержащий приложение, его зависимости и конфигурацию. Образ используется для создания контейнеров.',
      },
      {
        id: 10,
        question: 'Что такое OCI?',
        options: [
          'Open Container Initiative — спецификация для контейнеров',
          'Oracle Cloud Infrastructure',
          'Operating Container Interface',
          'Online Continuous Integration',
        ],
        correctAnswer: 0,
        explanation: 'OCI (Open Container Initiative) — это открытая спецификация для контейнеров, определяющая формат образов и runtime. runc реализует эту спецификацию.',
      },
    ],
  },

  'devops-roadmap': {
    slug: 'devops-roadmap',
    title: 'DevOps Roadmap 2025',
    videoUrl: 'https://www.youtube.com/watch?v=2FsmJrorp9Q',
    theory: devopsTheory,
    quiz: [
      {
        id: 1,
        question: 'Что такое DevOps?',
        options: [
          'Должность в компании',
          'Культура и практики, объединяющие разработку и операции',
          'Инструмент для мониторинга',
          'Язык программирования',
        ],
        correctAnswer: 1,
        explanation: 'DevOps — это культура, набор практик и философия, направленные на объединение разработки и операций для ускорения доставки качественного ПО.',
      },
      {
        id: 2,
        question: 'Почему важно вести личную документацию при обучении DevOps?',
        options: [
          'Это не важно, достаточно закладок',
          'Документация помогает структурировать знания и быстро находить решения',
          'Только для написания статей',
          'Чтобы показывать коллегам',
        ],
        correctAnswer: 1,
        explanation: 'Личная документация структурирует знания, создаёт быстродоступную базу решений и становится ценным инструментом при работе и поиске работы.',
      },
      {
        id: 3,
        question: 'Какой инструмент используется для управления секретами?',
        options: [
          'Docker',
          'Kubernetes',
          'HashiCorp Vault',
          'Prometheus',
        ],
        correctAnswer: 2,
        explanation: 'HashiCorp Vault — специализированный инструмент для безопасного хранения, управления и динамической генерации секретов (пароли, API-ключи, сертификаты).',
      },
      {
        id: 4,
        question: 'Для чего используется Docker Compose?',
        options: [
          'Для создания одиночных контейнеров',
          'Для управления мультиконтейнерными приложениями',
          'Для мониторинга контейнеров',
          'Для тестирования приложений',
        ],
        correctAnswer: 1,
        explanation: 'Docker Compose позволяет определять и управлять мультиконтейнерными приложениями через единый YAML-файл с описанием всех сервисов, сетей и томов.',
      },
      {
        id: 5,
        question: 'Что означает GitOps?',
        options: [
          'Работа только с Git',
          'Подход, где Git является единственным источником истины для инфраструктуры',
          'Мониторинг Git-репозиториев',
          'Автоматическое тестирование кода',
        ],
        correctAnswer: 1,
        explanation: 'GitOps — это подход, при котором Git-репозиторий является единственным источником истины для декларативной инфраструктуры и приложений. ArgoCD реализует этот паттерн.',
      },
      {
        id: 6,
        question: 'Какой инструмент является IaC (Infrastructure as Code) решением?',
        options: [
          'Ansible',
          'Terraform',
          'Kubernetes',
          'Git',
        ],
        correctAnswer: 1,
        explanation: 'Terraform — это IaC инструмент для декларативного описания и управления облачной инфраструктурой в виде кода.',
      },
      {
        id: 7,
        question: 'Для чего используется Prometheus в DevOps?',
        options: [
          'Для развёртывания приложений',
          'Для сбора и хранения метрик',
          'Для управления базами данных',
          'Для версионирования кода',
        ],
        correctAnswer: 1,
        explanation: 'Prometheus — это система мониторинга и база данных временных рядов для сбора, хранения метрик и настройки алертинга.',
      },
      {
        id: 8,
        question: 'Что такое CI/CD?',
        options: [
          'Два облачных сервиса',
          'Continuous Integration / Continuous Delivery - автоматизация сборки и доставки',
          'Система контроля версий',
          'Протокол передачи данных',
        ],
        correctAnswer: 1,
        explanation: 'CI/CD — это практики непрерывной интеграции (сборка и тестирование) и непрерывной доставки (автоматический деплой), автоматизирующие путь от кода до production.',
      },
      {
        id: 9,
        question: 'Что такое Helm в контексте Kubernetes?',
        options: [
          'Система мониторинга',
          'Пакетный менеджер для Kubernetes',
          'Сетевой плагин',
          'Инструмент для логирования',
        ],
        correctAnswer: 1,
        explanation: 'Helm — это пакетный менеджер для Kubernetes, упрощающий установку, обновление и управление приложениями через Charts (шаблоны).',
      },
      {
        id: 10,
        question: 'Обязательно ли DevOps-инженеру быть экспертом в программировании?',
        options: [
          'Да, нужно знать 5+ языков программирования',
          'Нет, достаточно базовых знаний для скриптинга и автоматизации',
          'Программирование вообще не нужно',
          'Только Python и больше ничего',
        ],
        correctAnswer: 1,
        explanation: 'DevOps-инженеру достаточно базовых знаний программирования (Bash, Python) для написания скриптов автоматизации. Глубокая разработка не является первостепенной задачей.',
      },
    ],
  },
}

